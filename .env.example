# =============================================================================
# SHOTSTACK INTERMEDIARY PLATFORM - ENVIRONMENT VARIABLES
# =============================================================================

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from your Supabase project settings (Settings > API)
NEXT_PUBLIC_SUPABASE_URL=https://hjwchewuibqpoeggynwp.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhqd2NoZXd1aWJxcG9lZ2d5bndwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwNTE1MzAsImV4cCI6MjA2OTYyNzUzMH0.7KMWeCbt4VSmyUV-zyntYOxu_ikfMDeo0IcO1RyBAIA
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhqd2NoZXd1aWJxcG9lZ2d5bndwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDA1MTUzMCwiZXhwIjoyMDY5NjI3NTMwfQ.N-rGbUIVnGp3VtcIMGjcwJORbmXjVxahoPtS4uJgDxI

# Database connection string for Supabase (used by intermediary service)
# Format: postgresql://postgres.[project-id]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.hjwchewuibqpoeggynwp:fu112020!2025@aws-0-sa-east-1.pooler.supabase.com:6543/postgres

# =============================================================================
# SHOTSTACK API CONFIGURATION
# =============================================================================
SHOTSTACK_API_KEY=hAMBhaXGkIGaE6gYldf3wnlUonpVpgXt9HvuM06u
SHOTSTACK_API_URL=https://api.shotstack.io/v1

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379


# =============================================================================
# GOOGLE CLOUD STORAGE CONFIGURATION
# =============================================================================
GCS_BUCKET=ffmpeg-api
GCS_PATH_PREFIX=videos
GCS_ACL=publicRead
# Path to your GCP service account credentials file
GOOGLE_APPLICATION_CREDENTIALS=/app/intermediary/gcp-credentials.json

# =============================================================================
# API CONFIGURATION
# =============================================================================
# FastAPI service configuration  
API_HOST=0.0.0.0
API_PORT=8000
ENVIRONMENT=development

# Rate limiting settings
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# Service URLs (for Docker internal communication)
WEB_SERVICE_URL=http://web:3000
INTERMEDIARY_SERVICE_URL=http://api:8000

# =============================================================================
# DOCKER COMPOSE OVERRIDES (Optional)
# =============================================================================
# These can be used to override Docker Compose settings

# Custom port mappings (if needed)
# WEB_PORT=3000
# API_PORT=8001
# DB_PORT=5432
# REDIS_PORT=6379

# Custom network name (if needed)
# COMPOSE_PROJECT_NAME=ss_inter

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable debug logging
# DEBUG=true

# Skip certain validations in development
# SKIP_ENV_VALIDATION=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# These should be set in production environment

# Use Supabase managed database in production
# DATABASE_URL=your-supabase-connection-string

# Production domains for CORS
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Production logging level
# LOG_LEVEL=info

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords and secrets
# 3. Rotate secrets regularly
# 4. Use environment-specific values (dev, staging, prod)
# 5. Consider using a secret management service for production

# =============================================================================
# GETTING STARTED
# =============================================================================
# 1. Create a Supabase project at https://supabase.com
# 2. Copy this file to .env in the project root
# 3. Fill in all the required values (especially Supabase settings)
# 4. Run: docker-compose up -d
# 5. Visit: http://localhost:3000
# 6. API docs: http://localhost:3000/docs
# 7. Intermediary API: http://localhost:8001

# =============================================================================
# SUPABASE SETUP STEPS
# =============================================================================
# 1. Create project at https://supabase.com
# 2. Go to Settings > API to get your keys
# 3. Go to Settings > Database to get connection string
# 4. Run the SQL schema (see /scripts/supabase-schema.sql)
# 5. Configure Row Level Security (RLS) policies